#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mt-plat/battery_meter.h>

/* ============================================================*/
/* define*/
/* ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R	16900
#define RBAT_PULL_DOWN_R	27000
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R	61900
#define RBAT_PULL_DOWN_R	100000
#endif
#define RBAT_PULL_UP_VOLT	1800



/* ============================================================*/
/* ENUM*/
/* ============================================================*/

/* ============================================================*/
/* structure*/
/* ============================================================*/

/* ============================================================*/
/* typedef*/
/* ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================*/
/* External Variables*/
/* ============================================================*/

/* ============================================================*/
/* External function*/
/* ============================================================*/

/* ============================================================*/
/* <DOD, Battery_Voltage> Table*/
/* ============================================================*/
#if (BAT_NTC_10 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-30,127476},
        {-25,96862},
        {-20,74354},
        {-15,57626},
        {-10,45068},
        { -5,35548},
        {  0,28267},
        {  5,22650},
        { 10,18280},
        { 15,14855},
        { 20,12151},
        { 25,10000},
        { 30,8279},
        { 35,6892},
        { 40,5768},
        { 45,4852},
        { 50,4101},
        { 55,3483},
        { 60,2970},
        { 65,2544},
        { 70,2188},
        { 75,1889},
        { 80,1637}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 483954},
		{-15, 360850},
		{-10, 271697},
		{ -5, 206463},
		{  0, 158214},
		{  5, 122259},
		{ 10, 95227},
		{ 15, 74730},
		{ 20, 59065},
		{ 25, 47000},
		{ 30, 37643},
		{ 35, 30334},
		{ 40, 24591},
		{ 45, 20048},
		{ 50, 16433},
		{ 55, 13539},
		{ 60, 11210}
	};
#endif

/* T0 -10C*/
BATTERY_PROFILE_STRUCT battery_profile_t0[] =
{
    {0  , 4396},
    {1  , 4365},
    {3  , 4340},
    {4  , 4319},
    {6  , 4299},
    {7  , 4280},
    {9  , 4262},
    {10 , 4245},
    {12 , 4228},
    {13 , 4211},
    {15 , 4195},
    {16 , 4180},
    {18 , 4164},
    {19 , 4149},
    {21 , 4133},
    {22 , 4117},
    {24 , 4103},
    {25 , 4092},
    {27 , 4080},
    {28 , 4064},
    {30 , 4042},
    {31 , 4017},
    {33 , 3995},
    {34 , 3978},
    {36 , 3964},
    {37 , 3952},
    {39 , 3941},
    {40 , 3930},
    {42 , 3919},
    {43 , 3907},
    {45 , 3896},
    {46 , 3885},
    {48 , 3874},
    {49 , 3864},
    {51 , 3856},
    {52 , 3847},
    {54 , 3839},
    {55 , 3832},
    {57 , 3825},
    {58 , 3819},
    {60 , 3813},
    {61 , 3808},
    {63 , 3803},
    {64 , 3800},
    {66 , 3796},
    {67 , 3793},
    {69 , 3791},
    {70 , 3788},
    {71 , 3786},
    {73 , 3784},
    {74 , 3782},
    {76 , 3779},
    {77 , 3777},
    {79 , 3774},
    {80 , 3770},
    {82 , 3766},
    {83 , 3761},
    {85 , 3755},
    {86 , 3749},
    {88 , 3741},
    {89 , 3733},
    {91 , 3725},
    {92 , 3716},
    {93 , 3710},
    {94 , 3706},
    {94 , 3702},
    {95 , 3700},
    {96 , 3698},
    {96 , 3697},
    {96 , 3696},
    {97 , 3694},
    {97 , 3693},
    {98 , 3692},
    {98 , 3691},
    {98 , 3690},
    {99 , 3689},
    {99 , 3688},
    {99 , 3687},
    {99 , 3685},
    {100, 3683},
    {100, 3683}
};      

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] =
{  
    {0  , 4366},
    {1  , 4345},
    {3  , 4325},
    {4  , 4306},
    {6  , 4289},
    {7  , 4272},
    {9  , 4255},
    {10 , 4239},
    {11 , 4222},
    {13 , 4206},
    {14 , 4190},
    {16 , 4175},
    {17 , 4159},
    {18 , 4144},
    {20 , 4129},
    {21 , 4113},
    {23 , 4098},
    {24 , 4086},
    {26 , 4077},
    {27 , 4064},
    {28 , 4042},
    {30 , 4016},
    {31 , 3996},
    {33 , 3981},
    {34 , 3970},
    {35 , 3960},
    {37 , 3950},
    {38 , 3939},
    {40 , 3926},
    {41 , 3912},
    {43 , 3899},
    {44 , 3886},
    {45 , 3875},
    {47 , 3864},
    {48 , 3855},
    {50 , 3847},
    {51 , 3839},
    {53 , 3832},
    {54 , 3826},
    {55 , 3820},
    {57 , 3814},
    {58 , 3809},
    {60 , 3804},
    {61 , 3800},
    {62 , 3795},
    {64 , 3791},
    {65 , 3788},
    {67 , 3786},
    {68 , 3783},
    {70 , 3782},
    {71 , 3780},
    {72 , 3777},
    {74 , 3774},
    {75 , 3771},
    {77 , 3766},
    {78 , 3761},
    {80 , 3756},
    {81 , 3750},
    {82 , 3742},
    {84 , 3733},
    {85 , 3724},
    {87 , 3714},
    {88 , 3703},
    {89 , 3697},
    {91 , 3693},
    {92 , 3689},
    {94 , 3681},
    {95 , 3652},
    {97 , 3598},
    {98 , 3563},
    {98 , 3534},
    {99 , 3509},
    {99 , 3485},
    {99 , 3465},
    {100, 3446},
    {100, 3429},
    {100, 3415},
    {100, 3402},
    {100, 3392},
    {100, 3392},
    {100, 3392}
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = 
{
    {0  , 4364},
    {1  , 4344},
    {3  , 4326},
    {4  , 4308},
    {6  , 4290},
    {7  , 4273},
    {9  , 4257},
    {10 , 4240},
    {11 , 4223},
    {13 , 4207},
    {14 , 4191},
    {16 , 4175},
    {17 , 4159},
    {19 , 4143},
    {20 , 4128},
    {21 , 4112},
    {23 , 4097},
    {24 , 4082},
    {26 , 4067},
    {27 , 4052},
    {28 , 4038},
    {30 , 4024},
    {31 , 4012},
    {33 , 4000},
    {34 , 3988},
    {36 , 3976},
    {37 , 3963},
    {38 , 3951},
    {40 , 3939},
    {41 , 3927},
    {43 , 3915},
    {44 , 3903},
    {46 , 3891},
    {47 , 3878},
    {48 , 3867},
    {50 , 3858},
    {51 , 3850},
    {53 , 3843},
    {54 , 3836},
    {55 , 3829},
    {57 , 3823},
    {58 , 3817},
    {60 , 3812},
    {61 , 3807},
    {63 , 3802},
    {64 , 3798},
    {65 , 3793},
    {67 , 3790},
    {68 , 3786},
    {70 , 3783},
    {71 , 3779},
    {73 , 3774},
    {74 , 3768},
    {75 , 3763},
    {77 , 3757},
    {78 , 3752},
    {80 , 3747},
    {81 , 3742},
    {83 , 3737},
    {84 , 3730},
    {85 , 3721},
    {87 , 3714},
    {88 , 3704},
    {90 , 3693},
    {91 , 3690},
    {92 , 3688},
    {94 , 3686},
    {95 , 3679},
    {97 , 3645},
    {98 , 3572},
    {100, 3461},
    {101, 3282},
    {101, 3264},
    {101, 3257},
    {101, 3252},
    {101, 3249},
    {101, 3247},
    {101, 3244},
    {101, 3242},
    {101, 3241},
    {101, 3241}
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] =
{
    {0  , 4355},
    {1  , 4334},
    {3  , 4315},
    {4  , 4297},
    {6  , 4280},
    {7  , 4262},
    {9  , 4246},
    {10 , 4229},
    {11 , 4212},
    {13 , 4196},
    {14 , 4180},
    {16 , 4164},
    {17 , 4147},
    {19 , 4132},
    {20 , 4117},
    {22 , 4101},
    {23 , 4086},
    {24 , 4072},
    {26 , 4057},
    {27 , 4044},
    {29 , 4030},
    {30 , 4016},
    {32 , 4003},
    {33 , 3991},
    {34 , 3979},
    {36 , 3967},
    {37 , 3956},
    {39 , 3945},
    {40 , 3934},
    {42 , 3922},
    {43 , 3910},
    {45 , 3898},
    {46 , 3886},
    {47 , 3873},
    {49 , 3863},
    {50 , 3853},
    {52 , 3845},
    {53 , 3837},
    {55 , 3830},
    {56 , 3824},
    {57 , 3818},
    {59 , 3812},
    {60 , 3806},
    {62 , 3800},
    {63 , 3794},
    {65 , 3788},
    {66 , 3783},
    {68 , 3778},
    {69 , 3773},
    {70 , 3768},
    {72 , 3762},
    {73 , 3756},
    {75 , 3751},
    {76 , 3745},
    {78 , 3739},
    {79 , 3732},
    {80 , 3728},
    {82 , 3724},
    {83 , 3718},
    {85 , 3710},
    {86 , 3701},
    {88 , 3693},
    {89 , 3682},
    {91 , 3677},
    {92 , 3675},
    {93 , 3673},
    {95 , 3669},
    {96 , 3647},
    {98 , 3586},
    {99 , 3495},
    {101, 3339},
    {101, 3247},
    {101, 3238},
    {101, 3234},
    {101, 3233},
    {101, 3232},
    {101, 3231},
    {101, 3231},
    {101, 3231},
    {101, 3230},
    {101, 3230}
};           

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] =
{
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   }
};    

/* ============================================================*/
/* <Rbat, Battery_Voltage> Table*/
/* ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] =
{
    {618 , 4396},
    {618 , 4365},
    {615 , 4340},
    {613 , 4319},
    {605 , 4299},
    {600 , 4280},
    {595 , 4262},
    {593 , 4245},
    {588 , 4228},
    {583 , 4211},
    {580 , 4195},
    {580 , 4180},
    {578 , 4164},
    {580 , 4149},
    {580 , 4133},
    {578 , 4117},
    {578 , 4103},
    {588 , 4092},
    {598 , 4080},
    {600 , 4064},
    {593 , 4042},
    {583 , 4017},
    {575 , 3995},
    {575 , 3978},
    {578 , 3964},
    {583 , 3952},
    {585 , 3941},
    {588 , 3930},
    {590 , 3919},
    {588 , 3907},
    {588 , 3896},
    {588 , 3885},
    {588 , 3874},
    {593 , 3864},
    {603 , 3856},
    {608 , 3847},
    {615 , 3839},
    {625 , 3832},
    {635 , 3825},
    {648 , 3819},
    {655 , 3813},
    {665 , 3808},
    {678 , 3803},
    {690 , 3800},
    {703 , 3796},
    {718 , 3793},
    {738 , 3791},
    {755 , 3788},
    {778 , 3786},
    {798 , 3784},
    {820 , 3782},
    {843 , 3779},
    {873 , 3777},
    {898 , 3774},
    {925 , 3770},
    {960 , 3766},
    {995 , 3761},
    {1035, 3755},
    {1080, 3749},
    {1128, 3741},
    {1185, 3733},
    {1253, 3725},
    {1290, 3716},
    {1278, 3710},
    {1265, 3706},
    {1258, 3702},
    {1250, 3700},
    {1245, 3698},
    {1245, 3697},
    {1240, 3696},
    {1235, 3694},
    {1233, 3693},
    {1233, 3692},
    {1230, 3691},
    {1225, 3690},
    {1223, 3689},
    {1225, 3688},
    {1220, 3687},
    {1218, 3685},
    {1208, 3683},
    {1210, 3683}
};      

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = 
{
    {290, 4366},
    {290, 4345},
    {285, 4325},
    {283, 4306},
    {280, 4289},
    {280, 4272},
    {280, 4255},
    {278, 4239},
    {275, 4222},
    {275, 4206},
    {273, 4190},
    {275, 4175},
    {273, 4159},
    {278, 4144},
    {280, 4129},
    {280, 4113},
    {280, 4098},
    {283, 4086},
    {298, 4077},
    {308, 4064},
    {303, 4042},
    {293, 4016},
    {293, 3996},
    {293, 3981},
    {298, 3970},
    {300, 3960},
    {303, 3950},
    {300, 3939},
    {293, 3926},
    {283, 3912},
    {280, 3899},
    {275, 3886},
    {273, 3875},
    {270, 3864},
    {270, 3855},
    {275, 3847},
    {275, 3839},
    {278, 3832},
    {283, 3826},
    {285, 3820},
    {290, 3814},
    {295, 3809},
    {300, 3804},
    {305, 3800},
    {308, 3795},
    {313, 3791},
    {318, 3788},
    {325, 3786},
    {330, 3783},
    {340, 3782},
    {350, 3780},
    {358, 3777},
    {368, 3774},
    {378, 3771},
    {388, 3766},
    {400, 3761},
    {415, 3756},
    {435, 3750},
    {453, 3742},
    {470, 3733},
    {495, 3724},
    {525, 3714},
    {558, 3703},
    {600, 3697},
    {650, 3693},
    {720, 3689},
    {808, 3681},
    {920, 3652},
    {995, 3598},
    {908, 3563},
    {838, 3534},
    {773, 3509},
    {713, 3485},
    {663, 3465},
    {618, 3446},
    {575, 3429},
    {540, 3415},
    {508, 3402},
    {480, 3392},
    {480, 3392},
    {480, 3392}
};     

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = 
{
    {108, 4364},
    {108, 4344},
    {108, 4326},
    {105, 4308},
    {105, 4290},
    {105, 4273},
    {108, 4257},
    {108, 4240},
    {105, 4223},
    {108, 4207},
    {108, 4191},
    {108, 4175},
    {108, 4159},
    {108, 4143},
    {110, 4128},
    {110, 4112},
    {113, 4097},
    {113, 4082},
    {110, 4067},
    {108, 4052},
    {108, 4038},
    {108, 4024},
    {110, 4012},
    {110, 4000},
    {110, 3988},
    {110, 3976},
    {108, 3963},
    {108, 3951},
    {110, 3939},
    {113, 3927},
    {113, 3915},
    {110, 3903},
    {110, 3891},
    {105, 3878},
    {103, 3867},
    {103, 3858},
    {103, 3850},
    {105, 3843},
    {105, 3836},
    {103, 3829},
    {105, 3823},
    {105, 3817},
    {108, 3812},
    {108, 3807},
    {108, 3802},
    {110, 3798},
    {110, 3793},
    {113, 3790},
    {115, 3786},
    {118, 3783},
    {115, 3779},
    {115, 3774},
    {110, 3768},
    {108, 3763},
    {105, 3757},
    {108, 3752},
    {108, 3747},
    {108, 3742},
    {108, 3737},
    {110, 3730},
    {110, 3721},
    {113, 3714},
    {113, 3704},
    {110, 3693},
    {113, 3690},
    {118, 3688},
    {123, 3686},
    {128, 3679},
    {128, 3645},
    {135, 3572},
    {158, 3461},
    {208, 3282},
    {163, 3264},
    {145, 3257},
    {133, 3252},
    {123, 3249},
    {118, 3247},
    {110, 3244},
    {108, 3242},
    {103, 3241},
    {103, 3241}
}; 

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = 
{
    {83 , 4355},
    {83 , 4334},
    {83 , 4315},
    {83 , 4297},
    {85 , 4280},
    {83 , 4262},
    {85 , 4246},
    {85 , 4229},
    {83 , 4212},
    {85 , 4196},
    {85 , 4180},
    {85 , 4164},
    {83 , 4147},
    {85 , 4132},
    {88 , 4117},
    {85 , 4101},
    {88 , 4086},
    {88 , 4072},
    {88 , 4057},
    {90 , 4044},
    {90 , 4030},
    {90 , 4016},
    {90 , 4003},
    {93 , 3991},
    {93 , 3979},
    {93 , 3967},
    {98 , 3956},
    {100, 3945},
    {103, 3934},
    {100, 3922},
    {98 , 3910},
    {98 , 3898},
    {95 , 3886},
    {90 , 3873},
    {90 , 3863},
    {88 , 3853},
    {85 , 3845},
    {83 , 3837},
    {83 , 3830},
    {85 , 3824},
    {85 , 3818},
    {85 , 3812},
    {85 , 3806},
    {83 , 3800},
    {80 , 3794},
    {78 , 3788},
    {78 , 3783},
    {80 , 3778},
    {83 , 3773},
    {83 , 3768},
    {83 , 3762},
    {85 , 3756},
    {88 , 3751},
    {88 , 3745},
    {88 , 3739},
    {85 , 3732},
    {88 , 3728},
    {90 , 3724},
    {90 , 3718},
    {88 , 3710},
    {88 , 3701},
    {88 , 3693},
    {88 , 3682},
    {88 , 3677},
    {88 , 3675},
    {93 , 3673},
    {100, 3669},
    {95 , 3647},
    {98 , 3586},
    {105, 3495},
    {123, 3339},
    {118, 3247},
    {98 , 3238},
    {88 , 3234},
    {83 , 3233},
    {83 , 3232},
    {80 , 3231},
    {78 , 3231},
    {78 , 3231},
    {78 , 3230},
    {75 , 3230}
}; 

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = 
{
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   },
    {0   , 0   }
};    

/* ============================================================*/
/* function prototype*/
/* ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

